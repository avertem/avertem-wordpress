{"version":3,"sources":["context/AccountContext.js","components/sidechain/Sidechain.js","services/AccountSession.js","App.js","serviceWorker.js","index.js"],"names":["AccountDefaults","accountDetails","account","debits","credits","total","progress","AccountContext","React","createContext","bip39","require","Buffer","HDKey","sha256","Sidechain","props","toggle","modalType","console","log","setState","state","accountMnemonic","generateMnemonic","seed","mnemonicToSeedSync","mnemonicPhrase","hdkey","fromMasterSeed","node","derive","pubBuffer","publicKey","accountHash","create","update","modal_send","modal_confirm","modal_request","modal_complete","modal_failure","sidechain_info","name","newMnewmonic","hex","toUpperCase","toString","encrypted","mnemonic","request_info","complete_info","transactionHash","transactionValue","failure_info","error","handleNameChange","bind","handleEncryptedChange","handleSeedChange","handleMnemonicChange","sendSidechain","event","this","target","value","preventDefault","currentDate","Date","sidechainSha256","toISOString","Math","random","sidechainBuffer","arrayBuffer","sidechainHash","transaction","AvertemTransaction","AvertemKey","context","contract","contractName","model","subjects","subject","predicates","predicate","objects","dataType","fetch","method","body","getProtoTransBuffer","mode","headers","authSession","window","_sidechain_wpnonce","rejectUnauthorized","then","result","status","transactionHashValue","FEE","catch","statusText","Form","Card","CardBody","FormGroup","Label","for","Input","type","onChange","required","InputGroup","readOnly","InputGroupAddon","addonType","data-clipboard-text","CardFooter","Button","color","onClick","Modal","isOpen","className","ModalHeader","ModalBody","FormText","ListGroup","ListGroupItem","ListGroupItemHeading","ListGroupItemText","ModalFooter","Spinner","Component","contextType","AccountSession","getAccount","json","items","JSON","parse","data","parseInt","Provider","children","App","Container","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.ed309f5e.chunk.js","sourcesContent":["import React from 'react';\n\nexport const AccountDefaults = {\n    accountDetails: {\n        account: \"\",\n        debits: 0,\n        credits: 0,\n        total: 0,\n        progress: 0}\n}\n\nexport const AccountContext = React.createContext({\n    accountDetails:AccountDefaults.accountDetails,\n  });","import React, { Component } from 'react';\nimport { \n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Badge,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Row,\n  Collapse,\n  Fade,\n  Progress,\n  Form,\n  FormGroup,\n  FormText,\n  FormFeedback,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButtonDropdown,\n  InputGroupText,\n  ListGroup,\n  ListGroupItem,\n  ListGroupItemHeading,\n  ListGroupItemText,\n  Label,\n  Button,\n  Spinner,\n  CardTitle} from 'reactstrap';\n\nimport { AccountContext } from '../../context/AccountContext';\nimport { AvertemTransaction, AvertemKey } from 'avertem-js-utils';\nimport { FaCopy } from 'react-icons/fa';\nimport Clipboard from 'react-clipboard.js';\n\nvar bip39 = require('bip39');\nvar Buffer = require('buffer/').Buffer\nvar HDKey = require('hdkey')\nvar sha256 = require('js-sha256').sha256;\n\nconst FEE = 20;\n\nclass Sidechain extends Component {\n\n    static contextType = AccountContext;\n\n    constructor(props) {\n        super(props);\n\n        this.accountMnemonic = bip39.generateMnemonic();\n        this.seed = bip39.mnemonicToSeedSync(this.mnemonicPhrase);\n        this.hdkey = HDKey.fromMasterSeed(this.seed);\n        this.node = this.hdkey.derive(\"m/44'/60'/0'/0/0\");\n        this.pubBuffer = new Buffer(this.node.publicKey);\n\n        var accountHash = sha256.create();\n        accountHash.update(this.node.publicKey);\n        \n        this.state = {\n            modal_send: false,\n            modal_confirm: true,\n            modal_request: false,\n            modal_complete: false,\n            modal_failure: false,\n            sidechain_info: {\n                name: '',\n                newMnewmonic: this.accountMnemonic,\n                account: accountHash.hex().toUpperCase(),\n                publicKey: this.pubBuffer.toString(\"hex\"),\n                encrypted: false,\n                seed: 0,\n                mnemonic: ''\n            },\n            request_info: {\n\n            },\n            complete_info: {\n                transactionHash: '',\n                transactionValue: 0\n            },\n            failure_info: {\n                transactionHash: '',\n                transactionValue: 0,\n                error: ''\n            }\n        };\n\n        this.handleNameChange = this.handleNameChange.bind(this);\n        //this.handleAccountChange = this.handleAccountChange.bind(this);\n        //this.handlePublicKeyChange = this.handlePublicKeyChange.bind(this);\n        this.handleEncryptedChange = this.handleEncryptedChange.bind(this);\n        this.handleSeedChange = this.handleSeedChange.bind(this);\n        this.handleMnemonicChange = this.handleMnemonicChange.bind(this);\n        this.sendSidechain = this.sendSidechain.bind(this);\n    }\n\n    toggle = modalType => () => {\n        console.log(\"Toggle the modal stuff [%o]\" + modalType)\n        this.setState({\n            [`modal_${modalType}`]: !this.state[`modal_${modalType}`],\n            modal_confirm: true,\n            modal_request: false,\n            modal_complete: false,\n            modal_failure: false\n        });\n    };\n\n    handleNameChange(event) {\n        let sidechain_info = this.state.sidechain_info;\n        sidechain_info.name = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }\n\n    /*handleAccountChange(event) {\n        let sidechain_info = this.state.sidechain_info;\n        sidechain_info.contractHash = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }*/\n\n    /*handlePublicKeyChange(event) {\n        let sidechain_info = this.state.sidechain_info;\n        sidechain_info.publicKey = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }*/\n\n    handleEncryptedChange(event) {\n        let sidechain_info = this.state.sidechain_info;\n        sidechain_info.encrypted = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }\n\n    handleSeedChange(event) {\n        let sidechain_info   = this.state.sidechain_info;\n        sidechain_info.seed = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }\n\n    handleMnemonicChange(event) {\n        let sidechain_info = this.state.sidechain_info;\n        sidechain_info.mnemonic = event.target.value\n        this.setState({ sidechain_info: sidechain_info});\n    }\n    \n    async sendSidechain(event) {\n        console.log(\"Selected : [%o]\",this.state.sidechain_info )\n        event.preventDefault();\n\n        let currentDate = new Date();\n\n        let sidechainSha256 = sha256.create();\n        sidechainSha256.update(this.state.sidechain_info.name);\n        sidechainSha256.update(currentDate.toISOString());\n        sidechainSha256.update(\"\" + Math.random());\n        let sidechainBuffer = new Buffer(sidechainSha256.arrayBuffer())\n        let sidechainHash = sidechainBuffer.toString(\"hex\");\n        \n        let transaction = new AvertemTransaction(new AvertemKey(this.state.sidechain_info.mnemonic),\n            FEE,this.context.accountDetails.account,this.context.accountDetails.account,\n            'D594F22DC389E38B3DE7FA5630DBD9DCA16DA8A77097516FD37F9E25C6BE24D2',\n            {\n                contract: 'BC43DA695277D088BDEC03CE1DC58549651B5F3228F62AEEA7EEA7EDD2E2D221',\n                contractName: 'avertem__contract_sidechain_contract',\n                model:{subjects :[\n                    {\n                        subject: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#Sidechain/\" + sidechainHash,\n                        predicates: [\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#id\",\n                                objects: [\n                                {\n                                        value: sidechainHash,\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#string\"\n                                    }\n                                ]\n                            },\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#accountHash\",\n                                objects: [\n                                {\n                                        value: this.context.accountDetails.account,\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#string\"\n                                    }\n                                ]\n                            },\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#account\",\n                                objects: [\n                                {\n                                        value: this.state.sidechain_info.account,\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#string\"\n                                    }\n                                ]\n                            },\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#key\",\n                                objects: [\n                                {\n                                        value: this.state.sidechain_info.publicKey,\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#string\"\n                                    }\n                                ]\n                            },\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#encrypted\",\n                                objects: [\n                                {\n                                        value: (this.state.sidechain_info.encrypted?'true':'false'),\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#string\"\n                                    }\n                                ]\n                            },\n                            {\n                                predicate: \"http://keto-coin.io/schema/rdf/1.0/keto/Sidechain#seed\",\n                                objects: [\n                                {\n                                        value: \"\" + this.state.sidechain_info.seed,\n                                        dataType:\"http://www.w3.org/2001/XMLSchema#decimal\"\n                                    }\n                                ]\n                            }]\n\n                    }]\n                }\n            })\n        \n        let vm = this;\n        this.setState({\n            modal_confirm: false,\n            modal_request: true,\n            modal_complete: false,\n            \n        });\n        \n        fetch(`/wp-json/avertem/v1/transaction/send`, {\n            method: 'POST',\n            body: transaction.getProtoTransBuffer(),\n            mode : 'cors',  \n            headers: { \n                'Content-Type': 'application/protobuf',\n                'session_hash': this.authSession,\n                'Access-Control-Allow-Origin' : '*',\n                'X-WP-Nonce': window._sidechain_wpnonce\n            },\n            rejectUnauthorized: false\n        }).then(result=> {\n            console.log(\"After sending the result is %o\",result)\n            if (result.status == 200) {\n                console.log(\"Update the status %o\",result)\n                this.setState({\n                    modal_confirm: false,\n                    modal_request: false,\n                    modal_complete: true,\n                    complete_info: {\n                        transactionHash: transaction.transactionHashValue.toString(\"hex\"),\n                        transactionValue: (FEE + 10000)\n                    }\n                });\n            }\n        }).catch(result=> {\n            console.log(\"Failed to send the transaction %s\", result.statusText);\n        })\n\n      }\n\n    render() {\n        return (\n            <Form>\n                <Card>\n                    <CardBody>\n                        <FormGroup>\n                            <Label for=\"sidechainName\">Name</Label>\n                            <Input \n                                type=\"text\" \n                                name=\"sidechainName\"\n                                value={this.state.sidechain_info.name}\n                                onChange={this.handleNameChange}\n                                required={true}>Name</Input>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"sidechainAccount\">Account Mnemonic</Label>\n                            <InputGroup>\n                                <Input \n                                    type=\"text\" \n                                    name=\"sidechainAccount\"\n                                    value={this.state.sidechain_info.newMnewmonic}\n                                    required={true} readOnly={true}>Account Mnemonic\n                                </Input>\n                                <InputGroupAddon addonType=\"append\">\n                                    <Clipboard data-clipboard-text={this.state.sidechain_info.newMnewmonic} >\n                                        <FaCopy></FaCopy>\n                                    </Clipboard>\n                                </InputGroupAddon>\n                            </InputGroup>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"sidechainAccount\">Account</Label>\n                            <InputGroup>\n                                <Input \n                                    type=\"text\" \n                                    name=\"sidechainAccount\"\n                                    value={this.state.sidechain_info.account}\n                                    required={true} readOnly={true}>Account</Input>\n                                <InputGroupAddon addonType=\"append\">\n                                    <Clipboard data-clipboard-text={this.state.sidechain_info.account} >\n                                        <FaCopy></FaCopy>\n                                    </Clipboard>\n                                </InputGroupAddon>\n                            </InputGroup>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"sidechainPublickey\">Public Key</Label>\n                            <InputGroup>\n                                <Input \n                                    type=\"text\" \n                                    name=\"sidechainPublickey\"\n                                    value={this.state.sidechain_info.publicKey}\n                                    required={true} readOnly={true}>Public Key</Input>\n                                <InputGroupAddon addonType=\"append\">\n                                    <Clipboard data-clipboard-text={this.state.sidechain_info.publicKey} >\n                                        <FaCopy></FaCopy>\n                                    </Clipboard>\n                                </InputGroupAddon>\n                            </InputGroup>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"sidechainEncrypted\">Encrypted</Label>\n                            <Input \n                                type=\"radio\" \n                                name=\"sidechainEncrypted\"\n                                value={this.state.sidechain_info.encrypted}\n                                onChange={this.handleEncryptedChange}>Encrypted</Input>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"\">Seed</Label>\n                            <Input \n                                type=\"number\" \n                                name=\"sidechainSeed\"\n                                value={this.state.sidechain_info.seed}\n                                onChange={this.handleSeedChange}\n                                required={true}>Seed</Input>\n                        </FormGroup>\n                    </CardBody>\n                    <CardFooter>\n                        <Button color=\"primary\" onClick={this.toggle('send')}>\n                            Send\n                        </Button>\n                        <Modal\n                            isOpen={this.state.modal_send}\n                            toggle={this.toggle('send')}\n                            className={this.props.className}>\n                            <ModalHeader toggle={this.toggle('send')}>Confirm Send {this.state.sidechain_info.name}</ModalHeader>\n                            { this.state.modal_confirm && \n                            <ModalBody>\n                                <FormGroup>\n                                    <Label for=\"mnemonic\">Mnemonic Phrase</Label>\n                                    <Input \n                                        type=\"textarea\" \n                                        name=\"mnemonic\"\n                                        value={this.state.sidechain_info.mnemonic}\n                                        onChange={this.handleMnemonicChange}\n                                        required={true}>Mnemonic Phrase</Input>\n                                        <FormText color=\"muted\">\n                                            Please provide your mnemonic phrase for confirmation.\n                                        </FormText>\n                                </FormGroup>    \n                            </ModalBody>\n                            }\n                            { this.state.modal_complete && \n                            <ModalBody>\n                                <ListGroup>\n                                    <ListGroupItem>\n                                        <ListGroupItemHeading>Transaction</ListGroupItemHeading>\n                                        <ListGroupItemText>\n                                        {this.state.complete_info.transactionHash}\n                                        </ListGroupItemText>\n                                    </ListGroupItem>\n                                    <ListGroupItem>\n                                        <ListGroupItemHeading>Amount</ListGroupItemHeading>\n                                        <ListGroupItemText>\n                                        {this.state.complete_info.transactionValue}\n                                        </ListGroupItemText>\n                                    </ListGroupItem>\n                                </ListGroup>\n                            </ModalBody>\n                            }\n                            { this.state.modal_failure && \n                            <ModalBody>\n                                <ListGroup>\n                                    <ListGroupItem>\n                                        <ListGroupItemHeading>Transaction</ListGroupItemHeading>\n                                        <ListGroupItemText>\n                                        {this.state.failure_info.transactionHash}\n                                        </ListGroupItemText>\n                                    </ListGroupItem>\n                                    <ListGroupItem>\n                                        <ListGroupItemHeading>Amount</ListGroupItemHeading>\n                                        <ListGroupItemText>\n                                        {this.state.failure_info.transactionValue}\n                                        </ListGroupItemText>\n                                    </ListGroupItem>\n                                    <ListGroupItem>\n                                        <ListGroupItemHeading>Error</ListGroupItemHeading>\n                                        <ListGroupItemText>\n                                        {this.state.failure_info.transactionValue}\n                                        </ListGroupItemText>\n                                    </ListGroupItem>\n                                </ListGroup>\n                            </ModalBody>\n                            }   \n                            <ModalFooter>\n                                { this.state.modal_confirm &&\n                                <div>\n                                    <Button color=\"primary\" onClick={this.sendSidechain}>\n                                        Send\n                                    </Button>{' '}\n                                    <Button color=\"secondary\" onClick={this.toggle('send')}>\n                                        Cancel\n                                    </Button>\n                                </div>\n                                }\n                                { this.state.modal_request && \n                                <div>\n                                    <ModalBody>\n                                        <Spinner color=\"dark\" />\n                                    </ModalBody>\n                                </div>\n                                }\n                                { (this.state.modal_complete && this.state.modal_failure)  &&\n                                <div>\n                                    <Button color=\"secondary\" onClick={this.toggle('send')}>\n                                        Close\n                                    </Button>\n                                </div>\n                                }\n                            </ModalFooter>\n                        </Modal>\n                    </CardFooter>\n                </Card>\n            </Form>\n            \n        );\n    }\n}\n\nexport default Sidechain;\n","import React from 'react';\nimport {AccountContext, AccountDefaults} from '../context/AccountContext';\n\n\nexport class AccountSession extends React.Component {\n    \n    constructor(props) {\n        super(props)\n\n        this.state = {\n            accountDetails:AccountDefaults.accountDetails\n        }\n    }\n\n    componentDidMount() {\n      this.getAccount();\n      //this.timer = setInterval(()=> this.getAccount(), 1000*60);\n    }\n\n    getAccount() {\n      fetch(`/wp-json/avertem/v1/account/info`,{\n          method: 'GET',\n          mode : 'cors',  \n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',                  \n            'Access-Control-Allow-Origin' : '*',\n            'X-WP-Nonce': window._sidechain_wpnonce\n          }\n        })\n          .then(result=>{\n            if (result.status == 200) {\n              return result.json();\n            } else {\n                console.log(\"Failed to process request [%o]\",result);\n            }\n          })\n          .then(items=>{\n            if (items) {\n              console.log(\"error [%o]\",items);\n              let json = JSON.parse(items)\n              console.log(json)\n              this.setState({accountDetails:{\n                account: json.account,\n                debits: json.data.debits,\n                credits: json.data.credits, \n                total: json.data.total,\n                progress: ((parseInt(json.data.debits) / parseInt(json.data.credits)) * 100)\n              }});\n            }\n          }).catch(error=>{\n            console.log(error);\n          })\n    }\n\n    render() {\n\n        return (\n          <AccountContext.Provider value={this.state}>\n             {this.props.children}\n          </AccountContext.Provider>\n        );\n    }\n}\n\n\nexport default AccountSession;","import React from 'react';\n//import logo from './logo.svg';\n//import './App.css';\n\nimport {\n  Container\n} from 'reactstrap';\n\nimport {Sidechain} from './components';\nimport {AccountSession} from './services/AccountSession';\n\nfunction App() {  \n  return (\n    <AccountSession>\n      <Container>\n        <Sidechain></Sidechain>\n      </Container>\n    </AccountSession>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';  \nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('avertem_sidechain_id'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}